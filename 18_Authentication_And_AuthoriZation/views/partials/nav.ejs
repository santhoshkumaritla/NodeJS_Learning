<header class="bg-red-500 text-white p-4 shadow-md sticky top-0 z-10">
  <nav class="container mx-auto">
    <!-- Desktop Navigation -->
    <div class="hidden md:flex md:justify-between md:items-center">
      <ul class="flex items-center flex-wrap gap-1">
        <!-- Brand -->
        <li>
          <a href="/" class="<%= currentPage === 'index' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-5 h-5 mr-1">
              <path d="M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z"/>
              <path d="M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z"/>
            </svg>
            airbnb
          </a>
        </li>

        <% if (isLoggedIn) { %>
          <!-- Shared by Host & Guest -->
          <li><a href="/homes" class="<%= currentPage === 'Home' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300 flex items-center"><i class="fas fa-home mr-1"></i> Homes</a></li>
          <li><a href="/favourites" class="<%= currentPage === 'favourites' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300 flex items-center"><i class="fas fa-heart mr-1"></i> Favourites</a></li>
          <li><a href="/bookings" class="<%= currentPage === 'bookings' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300 flex items-center"><i class="fas fa-calendar-check mr-1"></i> Bookings</a></li>

          <% if (user && user.userType === 'host') { %>
            <!-- Host Only -->
            <li><a href="/host/host-home-list" class="<%= currentPage === 'host-homes' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300 flex items-center"><i class="fas fa-list mr-1"></i> Host Homes</a></li>
            <li><a href="/host/add-home" class="<%= currentPage === 'addHome' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300 flex items-center"><i class="fas fa-plus mr-1"></i> Add Home</a></li>
          <% } %>
        <% } %>
      </ul>

      <!-- Auth Buttons -->
      <ul class="flex items-center gap-2">
        <% if (!isLoggedIn) { %>
          <li><a href="/signup" class="<%= currentPage === 'signup' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300 border border-white">Sign Up</a></li>
          <li><a href="/login" class="<%= currentPage === 'login' ? 'bg-white text-red-500 font-medium' : 'bg-white text-red-500 hover:bg-red-50' %> py-2 px-4 rounded-lg transition duration-300">Login</a></li>
        <% } else { %>
          <li>
            <form action="/logout" method="POST">
              <button type="submit" class="hover:bg-red-400 py-2 px-4 rounded-lg transition duration-300 border border-white flex items-center">
                <i class="fas fa-sign-out-alt mr-1"></i> Logout
              </button>
            </form>
          </li>
        <% } %>
      </ul>
    </div>

    <!-- Mobile Navigation -->
    <div class="md:hidden">
      <div class="flex justify-between items-center">
        <a href="/" class="flex items-center py-2 px-3 rounded-lg transition duration-300 <%= currentPage === 'index' ? 'bg-red-600 font-medium' : '' %>">
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">...</svg>
          <span class="ml-1">airbnb</span>
        </a>
        <button id="mobile-menu-button" class="p-2 rounded-lg hover:bg-red-400">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/>
          </svg>
        </button>
      </div>

      <div id="mobile-menu" class="hidden mt-2">
        <ul class="flex flex-col space-y-1 border-t border-red-400 pt-2 mt-2">
          <% if (isLoggedIn) { %>
            <!-- Common Links -->
            <li><a href="/homes" class="<%= currentPage === 'Home' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg">Homes</a></li>
            <li><a href="/favourites" class="<%= currentPage === 'favourites' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg">Favourites</a></li>
            <li><a href="/bookings" class="<%= currentPage === 'bookings' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg">Bookings</a></li>

            <% if (user && user.userType === 'host') { %>
              <li><a href="/host/host-home-list" class="<%= currentPage === 'host-homes' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg">Host Homes</a></li>
              <li><a href="/host/add-home" class="<%= currentPage === 'addHome' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg">Add Home</a></li>
            <% } %>

            <li class="pt-2 border-t border-red-400 mt-2">
              <form action="/logout" method="POST">
                <button type="submit" class="hover:bg-red-400 py-2 px-3 rounded-lg w-full text-left">Logout</button>
              </form>
            </li>
          <% } else { %>
            <li><a href="/signup" class="hover:bg-red-400 py-2 px-3 rounded-lg">Sign Up</a></li>
            <li><a href="/login" class="bg-white text-red-500 hover:bg-red-50 py-2 px-3 rounded-lg mt-2">Login</a></li>
          <% } %>
        </ul>
      </div>
    </div>
  </nav>
</header>

<!-- Mobile menu toggle -->
<script>
  document.getElementById("mobile-menu-button")?.addEventListener("click", () => {
    document.getElementById("mobile-menu")?.classList.toggle("hidden");
  });
</script>

<!-- FontAwesome Icons -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
